{
  "version": 3,
  "sources": ["../../src/error/error.config.ts", "../../src/error/error-handler.ts"],
  "sourcesContent": [
    "import type { ErrorCode } from \"./@types/error-types.types\";\n\n/**\n * Error codes for different error types\n */\nexport const ERROR_CODES = {\n  // General errors\n  INTERNAL_SERVER_ERROR: 'INTERNAL_SERVER_ERROR',\n  BAD_REQUEST: 'BAD_REQUEST',\n  UNAUTHORIZED: 'UNAUTHORIZED',\n  FORBIDDEN: 'FORBIDDEN',\n  NOT_FOUND: 'NOT_FOUND',\n  METHOD_NOT_ALLOWED: 'METHOD_NOT_ALLOWED',\n  CONFLICT: 'CONFLICT',\n  TOO_MANY_REQUESTS: 'TOO_MANY_REQUESTS',\n\n  // Validation errors\n  VALIDATION_ERROR: 'VALIDATION_ERROR',\n  INVALID_INPUT: 'INVALID_INPUT',\n  MISSING_REQUIRED_FIELD: 'MISSING_REQUIRED_FIELD',\n  INVALID_FORMAT: 'INVALID_FORMAT',\n\n  // Authentication errors\n  AUTH_FAILED: 'AUTH_FAILED',\n  INVALID_CREDENTIALS: 'INVALID_CREDENTIALS',\n  TOKEN_EXPIRED: 'TOKEN_EXPIRED',\n  TOKEN_INVALID: 'TOKEN_INVALID',\n  SESSION_EXPIRED: 'SESSION_EXPIRED',\n  SESSION_INVALID: 'SESSION_INVALID',\n  ACCOUNT_DISABLED: 'ACCOUNT_DISABLED',\n  ACCOUNT_NOT_FOUND: 'ACCOUNT_NOT_FOUND',\n\n  // TOTP specific errors\n  TOTP_EXPIRED: 'TOTP_EXPIRED',\n  TOTP_INVALID: 'TOTP_INVALID',\n  TOTP_SEND_FAILED: 'TOTP_SEND_FAILED',\n\n  // OAuth errors\n  OAUTH_ERROR: 'OAUTH_ERROR',\n  OAUTH_STATE_MISMATCH: 'OAUTH_STATE_MISMATCH',\n  OAUTH_CODE_INVALID: 'OAUTH_CODE_INVALID',\n\n  // Rate limiting errors\n  RATE_LIMIT_EXCEEDED: 'RATE_LIMIT_EXCEEDED',\n  RATE_LIMIT_WINDOW_EXCEEDED: 'RATE_LIMIT_WINDOW_EXCEEDED',\n\n  // Database errors\n  DATABASE_ERROR: 'DATABASE_ERROR',\n  DATABASE_CONNECTION_ERROR: 'DATABASE_CONNECTION_ERROR',\n  DATABASE_QUERY_ERROR: 'DATABASE_QUERY_ERROR',\n  DATABASE_CONSTRAINT_ERROR: 'DATABASE_CONSTRAINT_ERROR',\n\n  // External service errors\n  EXTERNAL_SERVICE_ERROR: 'EXTERNAL_SERVICE_ERROR',\n  EMAIL_SEND_ERROR: 'EMAIL_SEND_ERROR',\n  KV_STORE_ERROR: 'KV_STORE_ERROR',\n\n  // Security errors\n  CSRF_TOKEN_INVALID: 'CSRF_TOKEN_INVALID',\n  ORIGIN_NOT_ALLOWED: 'ORIGIN_NOT_ALLOWED',\n  SUSPICIOUS_ACTIVITY: 'SUSPICIOUS_ACTIVITY',\n} as const;\n\n/**\n * HTTP status codes mapping for error types\n */\nexport const ERROR_STATUS_CODES = {\n  [ERROR_CODES.INTERNAL_SERVER_ERROR]: 500,\n  [ERROR_CODES.BAD_REQUEST]: 400,\n  [ERROR_CODES.UNAUTHORIZED]: 401,\n  [ERROR_CODES.FORBIDDEN]: 403,\n  [ERROR_CODES.NOT_FOUND]: 404,\n  [ERROR_CODES.METHOD_NOT_ALLOWED]: 405,\n  [ERROR_CODES.CONFLICT]: 409,\n  [ERROR_CODES.TOO_MANY_REQUESTS]: 429,\n\n  [ERROR_CODES.VALIDATION_ERROR]: 400,\n  [ERROR_CODES.INVALID_INPUT]: 400,\n  [ERROR_CODES.MISSING_REQUIRED_FIELD]: 400,\n  [ERROR_CODES.INVALID_FORMAT]: 400,\n\n  [ERROR_CODES.AUTH_FAILED]: 401,\n  [ERROR_CODES.INVALID_CREDENTIALS]: 401,\n  [ERROR_CODES.TOKEN_EXPIRED]: 401,\n  [ERROR_CODES.TOKEN_INVALID]: 401,\n  [ERROR_CODES.SESSION_EXPIRED]: 401,\n  [ERROR_CODES.SESSION_INVALID]: 401,\n  [ERROR_CODES.ACCOUNT_DISABLED]: 403,\n  [ERROR_CODES.ACCOUNT_NOT_FOUND]: 404,\n\n  [ERROR_CODES.TOTP_EXPIRED]: 400,\n  [ERROR_CODES.TOTP_INVALID]: 400,\n  [ERROR_CODES.TOTP_SEND_FAILED]: 500,\n\n  [ERROR_CODES.OAUTH_ERROR]: 400,\n  [ERROR_CODES.OAUTH_STATE_MISMATCH]: 400,\n  [ERROR_CODES.OAUTH_CODE_INVALID]: 400,\n\n  [ERROR_CODES.RATE_LIMIT_EXCEEDED]: 429,\n  [ERROR_CODES.RATE_LIMIT_WINDOW_EXCEEDED]: 429,\n\n  [ERROR_CODES.DATABASE_ERROR]: 500,\n  [ERROR_CODES.DATABASE_CONNECTION_ERROR]: 500,\n  [ERROR_CODES.DATABASE_QUERY_ERROR]: 500,\n  [ERROR_CODES.DATABASE_CONSTRAINT_ERROR]: 409,\n\n  [ERROR_CODES.EXTERNAL_SERVICE_ERROR]: 502,\n  [ERROR_CODES.EMAIL_SEND_ERROR]: 502,\n  [ERROR_CODES.KV_STORE_ERROR]: 500,\n\n  [ERROR_CODES.CSRF_TOKEN_INVALID]: 403,\n  [ERROR_CODES.ORIGIN_NOT_ALLOWED]: 403,\n  [ERROR_CODES.SUSPICIOUS_ACTIVITY]: 403,\n} as const;\n\n/**\n * User-friendly error messages\n */\nexport const ERROR_MESSAGES: Record<ErrorCode, string> = {\n  [ERROR_CODES.INTERNAL_SERVER_ERROR]: 'An internal server error occurred. Please try again later.',\n  [ERROR_CODES.BAD_REQUEST]: 'The request was invalid. Please check your input.',\n  [ERROR_CODES.UNAUTHORIZED]: 'Authentication is required to access this resource.',\n  [ERROR_CODES.FORBIDDEN]: \"You don't have permission to access this resource.\",\n  [ERROR_CODES.NOT_FOUND]: 'The requested resource was not found.',\n  [ERROR_CODES.METHOD_NOT_ALLOWED]: 'This HTTP method is not allowed for this endpoint.',\n  [ERROR_CODES.CONFLICT]: 'The request conflicts with the current state of the resource.',\n  [ERROR_CODES.TOO_MANY_REQUESTS]: 'Too many requests. Please try again later.',\n\n  [ERROR_CODES.VALIDATION_ERROR]: 'Validation failed. Please check your input.',\n  [ERROR_CODES.INVALID_INPUT]: 'The provided input is invalid.',\n  [ERROR_CODES.MISSING_REQUIRED_FIELD]: 'A required field is missing.',\n  [ERROR_CODES.INVALID_FORMAT]: 'The input format is invalid.',\n\n  [ERROR_CODES.AUTH_FAILED]: 'Authentication failed. Please try again.',\n  [ERROR_CODES.INVALID_CREDENTIALS]: 'Invalid credentials. Please check your email and password.',\n  [ERROR_CODES.TOKEN_EXPIRED]: 'Your session has expired. Please login again.',\n  [ERROR_CODES.TOKEN_INVALID]: 'Invalid authentication token.',\n  [ERROR_CODES.SESSION_EXPIRED]: 'Your session has expired. Please login again.',\n  [ERROR_CODES.SESSION_INVALID]: 'Invalid session. Please login again.',\n  [ERROR_CODES.ACCOUNT_DISABLED]: 'Your account has been disabled. Please contact support.',\n  [ERROR_CODES.ACCOUNT_NOT_FOUND]: 'Account not found.',\n\n  [ERROR_CODES.TOTP_EXPIRED]: 'The verification code has expired. Please request a new one.',\n  [ERROR_CODES.TOTP_INVALID]: 'Invalid verification code. Please try again.',\n  [ERROR_CODES.TOTP_SEND_FAILED]: 'Failed to send verification code. Please try again.',\n\n  [ERROR_CODES.OAUTH_ERROR]: 'OAuth authentication failed. Please try again.',\n  [ERROR_CODES.OAUTH_STATE_MISMATCH]: 'OAuth state mismatch. Please try again.',\n  [ERROR_CODES.OAUTH_CODE_INVALID]: 'Invalid OAuth authorization code.',\n\n  [ERROR_CODES.RATE_LIMIT_EXCEEDED]: 'Rate limit exceeded. Please try again later.',\n  [ERROR_CODES.RATE_LIMIT_WINDOW_EXCEEDED]: 'Too many requests in a short time. Please wait.',\n\n  [ERROR_CODES.DATABASE_ERROR]: 'A database error occurred. Please try again.',\n  [ERROR_CODES.DATABASE_CONNECTION_ERROR]: 'Database connection failed. Please try again.',\n  [ERROR_CODES.DATABASE_QUERY_ERROR]: 'Database query failed. Please try again.',\n  [ERROR_CODES.DATABASE_CONSTRAINT_ERROR]: 'Data constraint violation occurred.',\n\n  [ERROR_CODES.EXTERNAL_SERVICE_ERROR]: 'External service error. Please try again later.',\n  [ERROR_CODES.EMAIL_SEND_ERROR]: 'Failed to send email. Please try again.',\n  [ERROR_CODES.KV_STORE_ERROR]: 'Storage service error. Please try again.',\n\n  [ERROR_CODES.CSRF_TOKEN_INVALID]: 'Invalid CSRF token. Please refresh and try again.',\n  [ERROR_CODES.ORIGIN_NOT_ALLOWED]: 'Request origin is not allowed.',\n  [ERROR_CODES.SUSPICIOUS_ACTIVITY]: 'Suspicious activity detected. Access denied.',\n} as const;\n",
    "export function getErrorMessage(error: unknown): string {\n  if (error instanceof Error) {\n    return error.message;\n  }\n\n  if (typeof error === 'string') {\n    return error;\n  }\n\n  if (typeof error === 'object' && error !== null && 'message' in error) {\n    return String((error as { message: unknown }).message);\n  }\n\n  return 'Unknown error occurred';\n}\n"
  ],
  "mappings": "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",
  "debugId": "EB4F046F999D891C64756E2164756E21",
  "names": []
}